Digital edition of Mozart piano sonatas
==========================================

This repository is a digital edition of 17 piano sonatas
composed by Wolfgang Amadeus Mozart, encoded in the
Humdrum file format.  The reference edition is the [Alte
Mozart-Ausgabe](https://en.wikipedia.org/wiki/Alte_Mozart-Ausgabe), volume
20 published in 1878 by Breitkopf &amp; H&auml;rtel, Leipzig, Germany.

Downloading
==================

The files can be downloaded by clicking on the green "Clone or download" 
button that should be near the top right corner of this page.  Then
choose "Download ZIP" in the drop-down menu that appears.

To download with `git`:

```bash
git clone https://github.com/craigsapp/mozart-piano-sonatas
```

To update your copy with any new changes to the data, type this command
within the mozart-piano-sonatas directory:

```bash
git pull
```


Online viewing
==================

Graphical notation for the data files can be viewed online at 
[Verovio Humdrum Viewer](http://verovio.humdrum.org/?file=mozart/sonatas&k=e).  Here are links to the individual movements:


| Number  | NMA | key | K<sup>1</sup>  | K<sup>6</sup>  | mvmt. 1  | mvmt. 2  | mvmt. 3 | 
|---|---|---|---|---|---|---|---|
| 1 | 1 | C major       | 279  | 189d  | [Allegro](http://verovio.humdrum.org?k=e&file=mozart/sonata/sonata01-1.krn)                   | [Andante](http://verovio.humdrum.org?k=e&file=mozart/sonata/sonata01-2.krn)                           | [Allegro](http://verovio.humdrum.org?k=e&file=mozart/sonata/sonata01-3.krn)                      |
| 2 | 2 | F major       | 280  | 189e  | [Allegro assai](http://verovio.humdrum.org?k=e&file=mozart/sonata/sonata02-1.krn)             | [Adagio](http://verovio.humdrum.org?k=e&file=mozart/sonata/sonata02-2.krn)                            | [Presto](http://verovio.humdrum.org?k=e&file=mozart/sonata/sonata02-3.krn)                       |
| 3 | 3 | B-flat major  | 281  | 189f  | [Allegro](http://verovio.humdrum.org?k=e&file=mozart/sonata/sonata03-1.krn)                   | [Andante amoroso](http://verovio.humdrum.org?k=e&file=mozart/sonata/sonata03-2.krn)                   | [Rondo: Allegro](http://verovio.humdrum.org?k=e&file=mozart/sonata/sonata03-3.krn)               |
| 4 | 4 | E-flat major  | 282  | 189g  | [Allegro](http://verovio.humdrum.org?k=e&file=mozart/sonata/sonata04-1.krn)                   | [Menuett I &amp; II](http://verovio.humdrum.org?k=e&file=mozart/sonata/sonata04-2.krn)                | [Allegro](http://verovio.humdrum.org?k=e&file=mozart/sonata/sonata04-3.krn)                      |
| 5 | 5 | G major       | 283  | 189h  | [Allegro](http://verovio.humdrum.org?k=e&file=mozart/sonata/sonata05-1.krn)                   | [Andante](http://verovio.humdrum.org?k=e&file=mozart/sonata/sonata05-2.krn)                           | [Presto](http://verovio.humdrum.org?k=e&file=mozart/sonata/sonata05-3.krn)                       |
| 6 | 6 | D major       | 284  | 205b  | [Allegro](http://verovio.humdrum.org?k=e&file=mozart/sonata/sonata06-1.krn)                   | [Rondeau en polonaise: Andante](http://verovio.humdrum.org?k=e&file=mozart/sonata/sonata06-2.krn)     | [Thema](http://verovio.humdrum.org?k=e&file=mozart/sonata/sonata06-3a.krn)                        |
| 7 | 7 | C major       | 309  | 284b  | [Allegro con spirito](http://verovio.humdrum.org?k=e&file=mozart/sonata/sonata07-1.krn)       | [Andante un poco adagio](http://verovio.humdrum.org?k=e&file=mozart/sonata/sonata07-2.krn)            | [Rondo: Allegretto grazioso](http://verovio.humdrum.org?k=e&file=mozart/sonata/sonata07-3.krn)   |
| 8 | 8 | A minor       | 310  | 300d  | [Allegro maestoso](http://verovio.humdrum.org?k=e&file=mozart/sonata/sonata08-1.krn)          | [Andante cantabile con expressione](http://verovio.humdrum.org?k=e&file=mozart/sonata/sonata08-2.krn) | [Presto](http://verovio.humdrum.org?k=e&file=mozart/sonata/sonata08-3.krn)                       |
| 9 | 9 | D major       | 311  | 284c  | [Allegro con spirito](http://verovio.humdrum.org?k=e&file=mozart/sonata/sonata09-1.krn)       | [Andante con expressione](http://verovio.humdrum.org?k=e&file=mozart/sonata/sonata09-2.krn)           | [Rondo: Allegro](http://verovio.humdrum.org?k=e&file=mozart/sonata/sonata09-3.krn)               |
|10 |10 | C major       | 330  | 300h  | [Allegro moderato](http://verovio.humdrum.org?k=e&file=mozart/sonata/sonata10-1.krn)          | [Andante cantabile](http://verovio.humdrum.org?k=e&file=mozart/sonata/sonata10-2.krn)                 | [Allegretto](http://verovio.humdrum.org?k=e&file=mozart/sonata/sonata10-3.krn)                   |
|11 |11 | A major       | 331  | 300i  | [Thema: Andante grazioso](http://verovio.humdrum.org?k=e&file=mozart/sonata/sonata11-1a.krn)   | [Menuetto &amp; Trio](http://verovio.humdrum.org?k=e&file=mozart/sonata/sonata11-2.krn)               | [Alla Turca: Allegretto](http://verovio.humdrum.org?k=e&file=mozart/sonata/sonata11-3.krn)       |
|12 |12 | F major       | 332  | 300k  | [Allegro](http://verovio.humdrum.org?k=e&file=mozart/sonata/sonata12-1.krn)                   | [Adagio](http://verovio.humdrum.org?k=e&file=mozart/sonata/sonata12-2.krn)                            | [Allegro assai](http://verovio.humdrum.org?k=e&file=mozart/sonata/sonata12-3.krn)                |
|13 |13 | B-flat major  | 333  | 315c  | [Allegro](http://verovio.humdrum.org?k=e&file=mozart/sonata/sonata13-1.krn)                   | [Andante cantabile](http://verovio.humdrum.org?k=e&file=mozart/sonata/sonata13-2.krn)                 | [Allegretto grazioso](http://verovio.humdrum.org?k=e&file=mozart/sonata/sonata13-3.krn)          |
|14 |14 | C minor       | 457  |       | [Allegro](http://verovio.humdrum.org?k=e&file=mozart/sonata/sonata14-1.krn)                   | [Adagio](http://verovio.humdrum.org?k=e&file=mozart/sonata/sonata14-2.krn)                            | [Molto allegro](http://verovio.humdrum.org?k=e&file=mozart/sonata/sonata14-3.krn)                |
|15 |16 | C major       | 545  |       | [Allegro](http://verovio.humdrum.org?k=e&file=mozart/sonata/sonata15-1.krn)                   | [Andante](http://verovio.humdrum.org?k=e&file=mozart/sonata/sonata15-2.krn)                           | [Rondo: Allegretto](http://verovio.humdrum.org?k=e&file=mozart/sonata/sonata15-3.krn)            |
|16 |17 | B-flat major  | 570  |       | [Allegro](http://verovio.humdrum.org?k=e&file=mozart/sonata/sonata16-1.krn)                   | [Adagio](http://verovio.humdrum.org?k=e&file=mozart/sonata/sonata16-2.krn)                            | [Allegretto](http://verovio.humdrum.org?k=e&file=mozart/sonata/sonata16-3.krn)                   |
|17 |18 | D major       | 576  |       | [Allegro](http://verovio.humdrum.org?k=e&file=mozart/sonata/sonata17-1.krn)                   | [Adagio](http://verovio.humdrum.org?k=e&file=mozart/sonata/sonata17-2.krn)                            | [Allegretto](http://verovio.humdrum.org?k=e&file=mozart/sonata/sonata17-3.krn)                   |


* `NMA` stands for [Neue Mozart-Ausgabe](https://en.wikipedia.org/wiki/Neue_Mozart-Ausgabe).

* You can hide the underlying musical data in VHV by using the [alt-y](http://doc.verovio.humdrum.org/interface/getting_started/) command.  You can hide the data via the URL by changing `k=e` to `k=ey`.

* Use the left/right arrow keys to changes pages

* Use shift left/right arrow keys to change movements (or click on the left/right buttons at the top left corner of the VHV page).

* Online conversion to MEI data can be done by typing the [alt-m](http://doc.verovio.humdrum.org/commands/alt-m) command.

* Press the space bar or click the play button to listen to the music.  MIDI file conversions cannot be download online, but can be produced via command-line tools.

Corrections
================================

If you think that there is a mistake in the data, verify that there is a problem by typing
[alt-p](http://doc.verovio.humdrum.org/commands/alt-p) to compare to a scan of the source edition.

If an error is found, there are two methods for fixing it.  A simple method is to report the problem
on the [issues](https://github.com/craigsapp/mozart-piano-sonatas/issues) page for this repository.  You
should cite the work and movement numbers with a description of the error.  Preferrably you should alto mention
the page number and system in the PDF where the error occurs, since the source edition does not have 
measure numbers.  Cite the measure number in the source edition (visible at the start of the systems
in VHV, as well as after `=` signs in the data.  Also preferrably you should include a snapshot of the 
error in the VHV notation and PDF scan of the corresponding spot.  

For example, here is a slur missing on beat three of measure three from a sonata:

<table>
<tr>
   <td style="vertical-align:top">
      <i>Snapshot from VHV:</i> <br/>
      <img src="https://user-images.githubusercontent.com/3487289/41737006-e9c1f9d6-7542-11e8-8a06-520c617091bd.png" width="250" />
   </td>
   <td style="vertical-align:top">
      <i>Snapshot from PDF:</i> <br/>
      <img src="https://user-images.githubusercontent.com/3487289/41737010-ed39c1f2-7542-11e8-998d-f8bf86870529.png" width="250" />
   </td>
   </tr>
</table>

How you generate the snapshots will depend on your operating system.  On MacOS computers, type `command-shift-4` and then draw a box around the region to capture.

Images can be added to the issue report by dragging-and-dropping them into the report form.


More advanced users can submit a [pull request](https://help.github.com/articles/about-pull-requests)
after first making a [fork](https://help.github.com/articles/fork-a-repo/) (i.e., a copy) into 
their Github account.

In both case, you will have to create a [free account](https://github.com/join) on Github.


Some mistakes are intentional and are related to limitations in [verovio](http://www.verovio.org) which is used to 
render the graphical notation, or in the converter from Humdrum-to-MEI which is part of [humlib](http://humlib.humdrum.org).  You
can report these errors, but they will be fixed over time on their own by magical programming gnomes.  Errors worth
reporting include wrong pitches, invisible accidentals (correct pitch, but cautionary accidental matching the source edition is not
available).  Slurs starting/stopping on wrong notes (cross staff slurs are only partially implemented in verovio).  The wrong
stem directions on notes or beams, or slurs are on the wrong sides of the staves.  Missing dynamics (dynamics placement is currently
limited to the middle of the grand staff and cannot yet be shown below the staff).  

The vertical positions of rests are intended to match the source edition as well.  These are currently being implemented in the converter, with
some rests requiring manual placement in the data.  Rests requiring automatic positining have a few bugs which should improve over time.

Slur angles are determined solely by verovio and are not interesting to submit as bug reports (only slur orientation and note attachments are of
interest for error correction).

Stem lengths and beam angles are not encoded in the data and are left to verovio to determine (and verovio still needs work on this point).

Line/page breaks and staff spacings are dependent on verovio and not taken from the source edition.


Command-line analysis & manipulation tools
=================================


Tools for
processing the encodings in this format on the command-line can be found
online at https://github.com/humdrum-tools

The encodings are located in the 'kern' directory.
Scans of the source edition can be downloaded from 
[kernScores](http://kern.humdrum.org) with this command:
```bash
   make reference
```

Data processing tools and other resources
=========================================

These digital scores may also be found on the kernScores website:
*    http://kernscores.stanford.edu/browse?l=mozart/sonatas

with mirrors at:
*    http://kern.humdrum.org/browse?l=mozart/sonatas
*    http://kern.ccarh.org/browse?l=mozart/sonatas

which includes dynamic conversions to other data formats.  

The [Humdrum Extras](http://extras.humdrum.org) command-line programs 
can download these files from kernScores.  A quick method of downloading:
```bash
    mkdir -p mozart/piano-sonatas
    cd mozart/piano-sonatas
    humsplit h://mozart/sonatas
```
To get online access to a single movement, for example to transpose the first 
movement of the first sonata from to B major:
```bash
   transpose -k b h://mozart/sonatas/sonata01-1.krn
```

To interface to the Humdrum Toolkit commands, use the humcat command to download to standard input (the -s option is needed when downloading multiple files):
```bash
   humcat -s h://mozart/sonatas | census -k
```


Makefile
========

The makefile provided in the base directory includes example data
processing commands.  Type ```make``` when in the same directory as the
makefile to list commands that can be run with the makefile.

If the command ```which make``` reports that the make command cannot
be found, then you must install it.  In linux, this command might
install it:
```bash
   sudo apt-get install build-essential
   # or
   sudo yum install build-essential
```

In OS X Mavericks or later, install the Xcode command-line tools:
```bash
   xcode-select --install
```

In Cygwin on MS Windows, re-run the cygwin install program and make sure
that the development tools are included in the installation packages.



